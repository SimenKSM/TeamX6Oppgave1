<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tamagochi</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            background-image: url(https://64.media.tumblr.com/f1225ce9e28490e75d76ec374fb60ae4/1c2840d12fd5d899-c8/s1280x1920/56443630016b0345f622518e813b103400bace6f.jpg);
            background-repeat: no-repeat;
            background-size: cover;
        }

        .egg {
            box-shadow: 0px 0px 15px 5px #000000;
            background-color: bisque;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 800px;
            width: 600px;
            border-radius: 50%;
            border-color: black;
            border: double;

        }

        .screen {
            display: flex;
            align-content: flex-start;
            background-color: #7edc95;
            margin-top: 150px;
            height: 200px;
            width: 400px;
            border: double;
            box-shadow: inset 0px 0px 15px 5px #000000;
        }

        .text {
            display: flex;
            justify-content: space-between;
            margin-top: 120px;
            height: 200px;
            width: 400px;

        }

        .bars {
            margin: 50px;
            margin-left: 70px;
        }

        button {
            color: rgb(0, 0, 0);
            font-size: 18px;
            line-height: 18px;
            padding: 10px;
            border-radius: 20px;
            font-family: Georgia, serif;
            font-weight: normal;
            text-decoration: none;
            font-style: normal;
            font-variant: normal;
            text-transform: none;
            box-shadow: rgb(0, 0, 0) 5px 5px 15px 5px;
            border: 2px solid rgb(28, 110, 164);
            display: inline-block;
            height: 40px;
            width: 80px;
            cursor: pointer;
        }

        button:hover {
            background: lightblue;
        }

        button:active {
            background: lightblue;
            box-shadow: none;
        }





        .barbackground {
            height: 20px;
            width: 100px;
            background-color: cornflowerblue;
        }

        .baryellow {
            background-color: yellow;
            height: 20px;
            position: absolute;
            max-width: 100px;
        }

        .barred {
            background-color: red;
            height: 20px;
            position: absolute;
            max-width: 100px;
        }

        .bargreen {
            background-color: green;
            height: 20px;
            position: absolute;
            max-width: 100px;
        }

        .barpurple {
            background-color: green;
            height: 20px;
            width: 100px;
            position: absolute;
            max-width: 100px;
        }

        .image {
            margin-top: 35px;
            margin-left: 60px;
            height: 129px;
            width: 125px;
        }
    </style>
</head>

<body>
    <div id="app"></div>
    <script>
        //Model
        let widthBar = '';
        let width1 = 100;
        let width2 = 100;
        let width3 = 100;
        let px = 'px';
        let interval1;
        let interval2;
        let interval3;
        let filling = 30;
        let image = "url('img/Pikachu.png')";
        let positionY = 11;
        let positionx = 15;


        //View
        start()
        increments()
        function show() {
            let HTML = '';
            HTML += /*HTML*/ `
            <div class="egg">
                <div class="screen">
                    <div><p id="potato" class="image" style="background:${image} -${positionY}${px} -${positionx}${px}"></p></div>
                    <div class="bars">
                        <div id="bar1" class="barred" style="width:${width1}${px}">HP</div><br>
                        <br>
                        <div id="bar2" class="bargreen" style="width:${width2}${px}">Water</div><br>
                        <br>
                        <div id="bar3" class="baryellow" style="width:${width3}${px}">Happiness</div>
                    </div>
                </div>
                <div class="text">
                    <button onclick="feedMe()">Feed</button>
                    <button onclick="playMe()">Water</button>
                    <button onclick="waterMe()">Play</button>
                    <button onclick="evolveMe()">Evolve!</button>
                    </div>
                    
                
                </div>

            
            `;
            document.getElementById('app').innerHTML = HTML;
        }

        //Controller

        function feedMe() {
            width1 = 100;
            positionY = 11;
            positionx = 15;
            show()
        }
        function playMe() {
            width2 = 100;
            show()
            positionY = 11;
            positionx = 15;

        }
        function waterMe() {
            width3 = 100;
            show()
            positionY = 11;
            positionx = 15;


        }
        function evolveMe() {
            image = "url('img/Raichu.png')"
            show()
        }
        function increments(speed1) {
            if (width1 == 0 || width2 == 0 || width3 == 0) {
                clearInterval(interval1);
                clearInterval(interval2);
                clearInterval(interval3);
                positionY = 426;
                positionx = 436
            }
                
            
                    
            
            else if (speed1 === 'one') {
                width1--;
                if (width1 == 50 || width1 == 25) {

                    alert("hp is low feed me")
                    positionY = 290;
                    positionx = 577;
                    show();
                }
            }
            else if (speed1 === 'two') {
                width2--;
                if (width2 == 50 || width2 == 25) {
                    alert("I am thirsty water please")
                    positionY = 15;
                    positionx = 155;
                }
            }
            else if (speed1 === 'three') {
                width3--;
                if (width3 == 50 || width3 == 25) {
                    alert("Happiness is low play with me!")
                    positionY = 150;
                    positionx = 436;
                }
            }
            show()


        }

        function start() {
            clearInterval(interval1);
            clearInterval(interval2);
            clearInterval(interval3);
            interval1 = setInterval(increments, 1000, 'one')
            interval2 = setInterval(increments, 4000, 'two')
            interval3 = setInterval(increments, 1500, 'three')
        }

    </script>
</body>

</html>